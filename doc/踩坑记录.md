# 模型下拉显示踩坑记录

## 背景与具体问题
- 需求：下拉列表展开时需要展示模型的 label + 描述，收起后触发器仅显示 label。
- 现象：改造后触有时会把描述带进选中态，导致 UI 冗余。

## 解决过程与踩坑点
- **描述混入选中值**：shadcn 的 `SelectItem` 默认把 `ItemText` 作为选中值，如果描述也放进 children，就会跟着一起进触发器。处理：改用 Radix 原生 Item，label 放进 `ItemText`，描述放到 `aria-hidden` 段落，确保收起状态只显示名称。
- **最终确认**：触发器完全自定义展示内容，选项用 `ItemIndicator` 显示勾选，描述仅在下拉展开时可见，收起后触发器保持单一 label。

## Media Studio 滚动处理踩坑记录

1) 外层滚动条始终出现  
- 现象：配置列内容变多后，页面整体出现纵向滚动。  
- 原因：多层 flex 容器默认 `min-height: auto`，子项无法收缩，内容把父层撑高。  
- 解决：在主容器、三栏容器、配置/结果栏及 layout 的 `<main>` 补充 `min-h-0`，限制高度继承，让滚动只在列内发生。

2) 部分模式仍产生溢出（Image to Video）  
- 现象：文本模式正常，图生视频仍出现外层滚动。  
- 原因：模式切换后上传卡片增加高度，`h-screen` 与父级 flex 叠加仍有溢出。  
- 解决：将页面主容器改为 `fixed inset-0 overflow-hidden`，直接锁定视口高度，三栏内部自行滚动。

4) 隐含教训  
- 在多层 flex 布局中，想让子容器滚动必须同时设置 `min-h-0`/`overflow`，单独改子容器无效。  
- 页面级高度最好在最外层一次性确定（如 `fixed inset-0`），避免下游嵌套组件把高度推高。  
- 模式切换会改变内容高度，滚动/高度策略要覆盖所有模式。  
- 设计上隐藏滚动条需要跨浏览器声明三组规则，且与 `overflow` 同时存在。
