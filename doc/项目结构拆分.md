# é¡¹ç›®ç»“æ„æ‹†åˆ†
ä¸»è¦ä»‹ç»å¤šåª’ä½“ç”Ÿæˆé¡¹ç›®çš„ç»„ä»¶åˆ’åˆ†å’Œç»“æ„æ‹†åˆ†ã€‚

### ğŸŸ¦ A. React æ ¸å¿ƒæ¦‚å¿µè®²è§£
- **ç»„ä»¶æ‹†åˆ†**ï¼š`MediaGeneratorWorkspace`ï¼ˆä¸‰æ ï¼Œå«èœå•/é…ç½®/ç»“æœï¼‰ä¸ `MediaOnlyGeneratorWorkspace`ï¼ˆåŒæ ï¼Œå»æ‰èœå•ï¼‰å…±äº«åŒä¸€å¥—é€»è¾‘ã€‚é€»è¾‘é›†ä¸­åœ¨ Hookï¼Œç»„ä»¶ä¿æŒ UI èŒè´£ã€‚
- **æ ¸å¿ƒ Hooks**ï¼šä¸¤ä¸ª Workspace éƒ½è°ƒç”¨ `useMediaGeneratorController`ï¼ˆä¸‰æ ä¸é”åª’ä½“ç±»å‹ï¼ŒåŒæ é€šè¿‡ `lockedMediaType: 'video'` å›ºå®šç±»å‹ï¼‰ï¼Œåˆ©ç”¨ `useState` å­˜çŠ¶æ€ã€`useEffect` è½®è¯¢ã€`useMemo` é€‰æ¨¡å‹ã€`useCallback` å›ºå®šå›è°ƒã€‚
- **å¿…è¦æ€§**ï¼šå—æ§ state è®© promptã€æ¨¡å‹é…ç½®ã€æŒ‰é’®ç¦ç”¨ä¿æŒåŒæ­¥ï¼›`useEffect` è½®è¯¢ä»»åŠ¡å¹¶æ¸…ç† intervalï¼›`useMemo` é¿å…æ¨¡å‹åˆ—è¡¨æ¯æ¬¡é‡å»ºï¼›`useCallback` ç¨³å®šä¼ ç»™å­ç»„ä»¶çš„å‡½æ•°å¼•ç”¨ï¼Œå‡å°‘ä¸å¿…è¦æ¸²æŸ“ã€‚
- **æ¸²æŸ“å…³è”**ï¼šWorkspace åªåœ¨ä¾èµ–çš„ Hook state å˜åŒ–æ—¶å±€éƒ¨åˆ·æ–°ï¼›`MediaGeneratorSection` æ˜¯é™æ€ç»„ä»¶ï¼Œæ²¡æœ‰é¢å¤–æ¸²æŸ“è´Ÿæ‹…ã€‚
- **æœ€ä½³å®è·µ**ï¼šé€šè¿‡ props å°† Hook çŠ¶æ€ä¸‹å‘åˆ° ConfigPanel ä¸ ResultPaneï¼Œä¿æŒå•å‘æ•°æ®æµï¼›æŒ‰éœ€é€‰æ‹©ä¸‰æ æˆ–åŒæ å¸ƒå±€ï¼Œé¿å…é‡å¤é€»è¾‘ã€‚

### ğŸŸ¦ B. Next.js æ ¸å¿ƒæ¦‚å¿µè®²è§£
- **Server / Client åˆ’åˆ†**ï¼š`MediaGeneratorWorkspace` / `MediaOnlyGeneratorWorkspace` ä»¥ `'use client'` å¼€å¤´ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ã€‚
- **"use client"**ï¼šè®©ç»„ä»¶å¯ä»¥ä½¿ç”¨ `useEffect` è½®è¯¢ `/api/media/result/{taskId}` å’Œ DOM äº‹ä»¶ï¼ˆæ»šåŠ¨ã€è§†é¢‘ hoverï¼‰ã€‚
- **App Router**ï¼š`media-studio/page.tsx` ç°åœ¨å¼•å…¥ä¸‰æ ç‰ˆ `MediaGeneratorWorkspace`ã€‚
- **æ•°æ®ç­–ç•¥**ï¼šä¸¤ä¸ª Workspace é€šè¿‡å®¢æˆ·ç«¯ fetch `/api/media/generate`ã€`/api/media/result`ã€`/api/media/feed`ã€‚
- **ç»“æ„å½±å“**ï¼šäº¤äº’ç»„ä»¶ä½äº `components/marketing/media-generator`ï¼Œå¯æŒ‰éœ€é€‰æ‹©ä¸‰æ /åŒæ å˜ä½“ã€‚

### ğŸŸ¦ C. ä»£ç é€»è¾‘æ‹†è§£ä¸æ¶æ„è¯´æ˜
- **éª¨æ¶**ï¼š`media-generator-workspace.tsx`ï¼ˆä¸‰æ ï¼‰ä¸ `media-only-generator-workspace.tsx`ï¼ˆåŒæ ï¼‰éƒ½ç»„åˆ `MediaGeneratorConfigPanel` + `MediaGeneratorResultPane`ï¼Œå¹¶ä» `useMediaGeneratorController` è·å–æ•°æ®æµã€‚
- **å…³é”®é€»è¾‘**ï¼šä¸‰æ ç‰ˆå…è®¸åˆ‡æ¢åª’ä½“ç±»å‹ï¼›åŒæ ç‰ˆé€šè¿‡ `lockedMediaType: 'video'` å›ºå®šåª’ä½“ç±»å‹ï¼Œé¿å…æ¸²æŸ“èœå•ï¼›ä¸¤è€…å…±äº« `availableModels/activeGeneration/onGenerate` ç­‰è¾“å‡ºã€‚
- **æ•°æ®æµ**ï¼šå·¥ä½œåŒºï¼šHook state â†’ ConfigPanel å—æ§è¾“å…¥ â†’ `GenerateButton` å‘è¯·æ±‚ â†’ ResultPane æ ¹æ® `activeGeneration` / feed å±•ç¤ºã€‚
- **æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”**ï¼šå¯ä»¥åœ¨é¡µé¢ç›´æ¥å † `ConfigPanel + ResultPane`ï¼Œä½†å°æˆ Workspace å¤ç”¨æ›´æ–¹ä¾¿ï¼›å¦‚éœ€çº¯å±•ç¤ºå¯å¦å†™é™æ€ç»„ä»¶è€Œä¸å¼•å…¥ä¸šåŠ¡é€»è¾‘ã€‚
- **æœ€ä½³å®è·µ**ï¼šå·¥ä½œåŒºä¿æŒå•å‘æ•°æ®æµä¸ Hook éš”ç¦»ï¼ŒæŒ‰éœ€é€‰æ‹©ä¸‰æ /åŒæ ä»¥æ»¡è¶³ä¸åŒé¡µé¢å¸ƒå±€ã€‚
- **é…ç½®è¡¨å•æ‹†åˆ†**ï¼šæŒ‰åª’ä½“ç±»å‹æ”¾ç½®é…ç½®ç»„ä»¶ï¼š`video/sora-config-fields.tsx`ã€`video/veo3-config-fields.tsx` ç­‰æ¨¡å‹ç‹¬ç«‹æ–‡ä»¶ï¼Œ`image/still-image-config-fields.tsx`ã€`audio/audio-craft-config-fields.tsx` è´Ÿè´£å¯¹åº”åª’ä½“ï¼›å…±äº«æ§ä»¶åœ¨ `shared/config-field-controls.tsx`ï¼Œèšåˆå¯¼å‡ºé›†ä¸­äº `model-configs.tsx`ï¼Œä¾¿äºå¢åˆ æ¨¡å‹æ—¶åªæ”¹æ‰€å±æ–‡ä»¶ä¸æ³¨å†Œè¡¨ã€‚
